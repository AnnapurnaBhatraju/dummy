{% extends "react_base.html" %}

{% block content %}

<!-- Background -->
<div class="position-absolute w-100" style="z-index:-1;">
  <div id="vanta-bg" data-type="birds" style="width:100vw; height:130vh;"></div>
</div>

<!-- Navbar -->
<section class="position-relative text-center d-flex flex-column justify-content-center ms-5 me-5" style="margin-top: 0px;">
  <div id="navbar-root"
     data-theme="light"
     data-logo="Anaemia Prediction"
     data-logo-position="left"
     data-nav-align="right"
     data-rounded="true"
     data-animate-type="animate__fadeInDown"
     data-nav-items='[
     {"name":"Dashboard","link":"/user/dashboard"},
     {"name":"Logout","link":"/user/logout"}
     ]'>
  </div>
</section>

<!-- Dashboard Grid -->
<section class="position-relative container mt-5">
  <div class="row g-4 justify-content-center">

    <!-- Welcome / Stats Card -->
    <div class="col-md-5">
      <div class="card shadow-lg rounded-4 p-4  animate__animated animate__fadeIn hvr-bob" style="background: linear-gradient(320deg, #7b4397 10%, #dc2430 ); color: #fff;">
        <h4 class="fw-bold mb-3">Welcome, {{user.name}}!<i class="fa-solid fa-user-tie"></i></h4>
        <p style="font-size: 0.9rem;">Your personalized dashboard helps you analyze, predict, and visualize results effortlessly.</p>

        <div class="row text-center mt-4">
          <div class="col-6 mb-3">
            <div class="p-3 rounded-3" style="background: rgba(255,255,255,0.2);">
              <i class="fa-solid fa-hexagon-nodes fa-3x"></i>
              <h5 class="mb-1 fw-bold">Extension CNN with Attention</h5>
              <small>Algorithm Name</small>
            </div>
          </div>
          <div class="col-6 mb-3">
            <div class="p-3 rounded-3" style="background: rgba(255,255,255,0.2);">
              <i class="fa-solid fa-chart-line fa-4x"></i>
              <h5 class="mb-1 fw-bold">99.73%</h5>
              <small>Accuracy</small>
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-center gap-2 mt-3">
          <a href="{{url_for('user.predict')}}" class="btn btn-light btn-sm fw-bold">Predict</a>
          <a href="{{ url_for('user.graph') }}" class="btn btn-outline-light btn-sm fw-bold">
              View Graphs
          </a>
</div>
      </div>

    </div>

    <!-- User Profile Card -->
    <div class="col-md-5">
       <!-- About Project Card -->
    <div class="col-12">

    </div>
      <div class="card shadow-lg rounded-4 p-4  animate__animated animate__fadeInUp hvr-float" style="background: linear-gradient(135deg, #0fc494f7 2%, #136496ff 90%); color: #fff;">
        <h4 class="fw-bold mb-3 text-center"><i class="fa-solid fa-address-card"></i>&nbsp;&nbsp;User Profile</h4>
        <p class=" text-center mb-4" style="font-size: 0.9rem;">Quick overview of your account info.</p>

        <div class="list-group list-group-flush">
          <div class="list-group-item d-flex justify-content-between align-items-center">
            <span>Full Name</span>
            <strong data-field="name">{{user.name}}</strong>
          </div>
          <div class="list-group-item d-flex justify-content-between align-items-center">
            <span>Username</span>
            <strong data-field="username">{{user.username}}</strong>
          </div>
          <div class="list-group-item d-flex justify-content-between align-items-center">
            <span>Email</span>
            <strong data-field="email">{{user.email}}</strong>
          </div>


        </div>

        <div class="d-flex justify-content-center gap-2 mt-3">
          <button id="editProfileBtn" class="btn btn-warning btn-sm fw-bold">Edit Profile</button>
          <button id="changePasswordBtn" class="btn btn-danger btn-sm fw-bold">Change Password</button>
        </div>
      </div>

    </div>
<!-- Root for modal JS -->
<div id="modal-root"
     data-name="{{ user.name }}"
     data-email="{{ user.email }}"
     data-username="{{ user.username }}">
</div>

<div class="card shadow-lg rounded-4 p-4 animate__animated animate__zoomInLeft hvr-float-shadow" style="background-color: rgba(255,255,255,0.95);">
        <h4 class="fw-bold mb-3 text-center">About the Project</h4>
        <p class="text-muted small mb-0" style="text-align: justify;">
          To improve anaemic prediction rate along with explanation which is known as Black-box for AI algorithms, author of this paper employing various AI algorithms such as Decision Tree, SVM, KNN and Gradient Boosting. Prediction of each model will be explained with the help of SHAP and LIME explanation tools. This tool will explain medical expert about those features which are contributing to make prediction. By seeing this explanation medical experts can easily understand weather AI model has used suitable features to make correct prediction or not. 
        </p>
      </div>
  </div>
</section>


<script>
  window.userData = {
    name: "{{ user.name }}",
    email: "{{ user.email }}",
    username: "{{ user.username }}"
  };
</script>
<!-- âœ… Load external React component -->
<script type="text/babel" src="{{ url_for('static', filename='react_components/VantaBackground.js') }}"></script>
<script type="text/babel" src="{{ url_for('static', filename='react_components/Navbar.js') }}"></script>
<script type="text/babel" src="{{ url_for('static', filename='react_components/EditProfileCard.js') }}"></script>
<script type="text/babel" src="{{ url_for('static', filename='react_components/ChangePasswordCard.js') }}"></script>

{% endblock %}
